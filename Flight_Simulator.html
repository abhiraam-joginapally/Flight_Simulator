<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Lift Off! Flight Academy - Real Fighter Jets</title>
<style>
body {
    background: #87ceeb;
    font-family: Arial, sans-serif;
    margin: 0;
    overflow: hidden;
}
#gameCanvas {
    background: linear-gradient(#87ceeb, #e0f6ff);
    display: block;
}
#controls {
    position: absolute;
    top: 10px;
    left: 10px;
    background: rgba(255,255,255,0.8);
    padding: 10px;
    border-radius: 8px;
    font-size: 14px;
}
#instrumentPanel {
    position: absolute;
    bottom: 0;
    width: 100%;
    background: rgba(0,0,0,0.8);
    color: white;
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding: 8px;
}
.instrument {
    text-align: center;
    min-width: 80px;
}
canvas {
    border: none;
}
</style>
</head>
<body>
<canvas id="gameCanvas" width="1000" height="600"></canvas>
<div id="controls">
    <div>
        FBW Mode:
        <select id="fbwMode">
            <option>Normal</option>
            <option>Alternate</option>
            <option>Direct</option>
        </select>
    </div>
    <div>
        Fighter:
        <select id="fighterSelect">
            <option value="F-16">F-16 Falcon</option>
            <option value="F/A-18">F/A-18 Hornet</option>
            <option value="F-35">F-35 Lightning II</option>
            <option value="Su-57">Su-57 Felon</option>
        </select>
    </div>
    <div>
        Thrust: <input type="range" id="thrust" min="0" max="100" value="50">
    </div>
    <div>
        Stick Pitch: <input type="range" id="pitch" min="-20" max="20" value="0">
    </div>
    <div>
        Stick Roll: <input type="range" id="roll" min="-45" max="45" value="0">
    </div>
</div>
<div id="instrumentPanel">
    <div class="instrument">Airspeed<br><span id="airspeed">0</span> kt</div>
    <div class="instrument">Altitude<br><span id="altitude">0</span> ft</div>
    <div class="instrument">AoA<br><span id="aoa">0</span>Â°</div>
    <div class="instrument">Attitude<br><canvas id="attitude" width="80" height="80"></canvas></div>
    <div class="instrument">FBW Status<br><span id="fbwStatus">Normal</span></div>
    <div class="instrument">Plane<br><canvas id="hudPlane" width="80" height="50"></canvas></div>
</div>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

// HUD plane canvas
const hudPlaneCanvas = document.getElementById('hudPlane');
const hudCtx = hudPlaneCanvas.getContext('2d');

// Attitude indicator canvas
const attCanvas = document.getElementById('attitude');
const attCtx = attCanvas.getContext('2d');

let plane = {
    type: "F-16",
    pitch: 0,
    roll: 0,
    thrust: 50,
    speed: 200,
    altitude: 5000,
    aoa: 0
};

const fighterStats = {
    "F-16": { agility: 1.2, thrustMax: 1500, imgSrc: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAASCAIAAACbSw8eAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAATJJREFUWIXt1DEBAAAIAzA1g9vchJ2CDH6ySFTqHRdX8sHgcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgGUbAARfJ0LCAAAAAElFTkSuQmCC" },
    "F/A-18": { agility: 1.0, thrustMax: 1400, imgSrc: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAABICAYAAABViy+mAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAa1JREFUWIXt1kENwCAMQ9GO9NxRoohhLR6GG1joYIbv+8jIgHz9yeAAAAAAAAAAAAAAAAAAAAAAAABk/UoAJgIuUSwI0JYiXBBKgEAwPAAsFlfFwgAAF8AUAz8DIhG9LcAzPQMwqJbPLQHzqypDrbLPa4ACJ9fEX06WMOQz5whA0cIYAECQEwAAA7U1hSgJ9iCSTg5hRB8YLSYAZBQ5Cc0Y3Z2IA4DcAAOAyZrjYxV8Z0BR8G0BpAQKAFAEBAQCAFAEBAQCAFAEBAQCAFAEBAQCAFAEBAQCAFAEBAQCAX4XfyYfLjE5rjUBAAAAAElFTkSuQmCC" },
    "F-35": { agility: 1.1, thrustMax: 1600, imgSrc: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAAiCAYAAAAlxIB9AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAaBJREFUWIXt1DkOwyAQRdGPJ7/8g6lKrSIZ8WTi+J9RQj7pjT6bkXb/gACAAAAAAAAAAAAAAAAAABtAPvw6HgkEiCoEEMWhZsNlgpFtMJs/Nv/PKlYls7tjSKWRGYhmM5HZFbQe56+E6AilfKKUs4l57GiMSuUr5L+S+gexlyb5L8q0txk6n+vl9UzVObtrPPMJ7r1qPo+CoITKhTaqQtK8vgLLDkJdS2ThBqV6cFokxTqrJShzH+pfpXJUKyTMUfKErI+U5pcRzAey2h7MAAAAAAAAAAAAAAAAAAAAAAAAAv4Avn58i+XgHsagAAAABJRU5ErkJggg==" },
    "Su-57": { agility: 1.3, thrustMax: 1550, imgSrc: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAABICAYAAABViy+mAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAaVJREFUWIXt1kENwCAMQ9GO9NxRoohhLR6GG1joYIbv+8jIgHz9yeAAAAAAAAAAAAAAAAAAAAAAAAD6vz4ECQAQSoFBLnSJywCF+YZiEAQAwPAAsFlfFwgAAF8AUAz8DIhG9LcAzPQMwqJbPLQHzqypDrbLPa4ACJ9fEX06WMOQz5whA0cIYAECQEwAAA7U1hSgJ9iCSTg5hRB8YLSYAZBQ5Cc0Y3Z2IA4DcAAOAyZrjYxV8Z0BR8G0BpAQKAFAEBAQCAFAEBAQCAFAEBAQCAFAEBAQCAFAEBAQCAFAEBAQCAX4XfyYfLjE5rjUBAAAAAElFTkSuQmCC" }
};

// Preload images
const fighterImages = {};
let imagesLoaded = 0;
const totalImages = Object.keys(fighterStats).length;

for (let key in fighterStats) {
    let img = new Image();
    img.src = fighterStats[key].imgSrc;
    img.onload = () => {
        imagesLoaded++;
        if(imagesLoaded === totalImages) {
            // All images loaded, start the game loop
            requestAnimationFrame(gameLoop);
        }
    };
    fighterImages[key] = img;
}

// HUD silhouette (simple white shape)
function drawHudPlane() {
    hudCtx.clearRect(0,0,hudPlaneCanvas.width,hudPlaneCanvas.height);
    hudCtx.fillStyle = "white";
    hudCtx.beginPath();
    hudCtx.moveTo(10, 25);
    hudCtx.lineTo(70, 25);
    hudCtx.lineTo(50, 15);
    hudCtx.lineTo(30, 15);
    hudCtx.closePath();
    hudCtx.fill();
}

// Attitude indicator
function drawAttitude() {
    attCtx.clearRect(0,0,attCanvas.width,attCanvas.height);
    attCtx.fillStyle = "#00f";
    attCtx.fillRect(0, attCanvas.height/2 + plane.pitch, attCanvas.width, attCanvas.height/2 - plane.pitch);
    attCtx.fillStyle = "#964B00";
    attCtx.fillRect(0, 0, attCanvas.width, attCanvas.height/2 + plane.pitch);
    attCtx.strokeStyle = "white";
    attCtx.beginPath();
    attCtx.moveTo(0, attCanvas.height/2 + plane.pitch);
    attCtx.lineTo(attCanvas.width, attCanvas.height/2 + plane.pitch);
    attCtx.stroke();
}

function updateInstruments() {
    document.getElementById('airspeed').innerText = Math.round(plane.speed);
    document.getElementById('altitude').innerText = Math.round(plane.altitude);
    document.getElementById('aoa').innerText = plane.aoa.toFixed(1);
    document.getElementById('fbwStatus').innerText = document.getElementById('fbwMode').value;
}

function drawPlaneView() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    
    // Sky
    let gradient = ctx.createLinearGradient(0,0,0,canvas.height);
    gradient.addColorStop(0,"#87ceeb");
    gradient.addColorStop(1,"#e0f6ff");
    ctx.fillStyle = gradient;
    ctx.fillRect(0,0,canvas.width,canvas.height);

    // Ground line
    ctx.fillStyle = "#228B22";
    ctx.fillRect(0, canvas.height-50, canvas.width, 50);

    // Draw fighter image
    ctx.save();
    ctx.translate(canvas.width/2, canvas.height/2);
    ctx.rotate(plane.roll * Math.PI/180);
    ctx.translate(0, plane.pitch * -2);

    let img = fighterImages[plane.type];
    if (img) {
        ctx.drawImage(img, -img.width/2, -img.height/2);
    } else {
        // fallback trapezoid shape
        ctx.fillStyle = "#444";
        ctx.beginPath();
        ctx.moveTo(-40, 0);
        ctx.lineTo(40, 0);
        ctx.lineTo(20, -10);
        ctx.lineTo(-20, -10);
        ctx.closePath();
        ctx.fill();
    }
    ctx.restore();
}

function gameLoop() {
    plane.thrust = document.getElementById('thrust').value;
    plane.pitch = parseFloat(document.getElementById('pitch').value);
    plane.roll = parseFloat(document.getElementById('roll').value);
    plane.type = document.getElementById('fighterSelect').value;

    plane.speed = (plane.thrust / 100) * fighterStats[plane.type].thrustMax / 10;
    plane.aoa = plane.pitch / 2;
    plane.altitude += (plane.pitch * 5) - 0.1 * (100 - plane.thrust)/2;
    if (plane.altitude < 0) plane.altitude = 0;

    drawPlaneView();
    drawHudPlane();
    drawAttitude();
    updateInstruments();

    requestAnimationFrame(gameLoop);
}

// Start loading images and game loop after loaded
// If images already loaded (due to caching), start immediately
if (imagesLoaded === totalImages) {
    requestAnimationFrame(gameLoop);
}
</script>
</body>
</html>